language: cpp

env:
  global:
    # Ubuntu version
    - LINUX_DIST=trusty
  matrix:
    - PACKAGE=Gtest
    - PACKAGE=ThreadPool
    - PACKAGE=Kokkos
    - PACKAGE=Teuchos
    - PACKAGE=KokkosKernels
    - PACKAGE=RTOp
    - PACKAGE=Sacado
    - PACKAGE=MiniTensor
    - PACKAGE=Epetra
    - PACKAGE=Zoltan
    - PACKAGE=Shards
    - PACKAGE=GlobiPack
    - PACKAGE=Triutils
    - PACKAGE=Tpetra
    - PACKAGE=TrilinosSS
    - PACKAGE=EpetraExt
    - PACKAGE=Domi
    - PACKAGE=Thyra
    - PACKAGE=Xpetra
    - PACKAGE=OptiPack
    - PACKAGE=Isorropia
    - PACKAGE=AztecOO
    - PACKAGE=Galeri
    - PACKAGE=Amesos
    - PACKAGE=Pamgen
    - PACKAGE=Zoltan2
    - PACKAGE=Ifpack
    - PACKAGE=ML
    - PACKAGE=Belos
    - PACKAGE=ShyLU_Node
    - PACKAGE=Amesos2
    - PACKAGE=SEACAS
    - PACKAGE=Anasazi
    - PACKAGE=Ifpack2
    - PACKAGE=Stratimikos
    - PACKAGE=FEI
    - PACKAGE=Intrepid
    - PACKAGE=Intrepid2
    - PACKAGE=STK
    - PACKAGE=Phalanx
    - PACKAGE=ShyLU_DD
    - PACKAGE=ShyLU
    - PACKAGE=ROL
    - PACKAGE=Piro
    - PACKAGE=Panzer
    - PACKAGE=TrilinosCouplings
    - PACKAGE=Pike

git:
  depth: 3

before_install:
  - sudo apt-get install -qq libblas-dev liblapack-dev gfortran mpich libboost-dev libnetcdf-dev
 
before_script:
  - git clone https://github.com/duongdoOrg/Trilinos Trilinos
  - chmod +x Trilinos/do-configure
  - mkdir BUILD
  - cd BUILD
  
script:
  - ../Trilinos/./do-configure -DTrilinos_ENABLE_$PACKAGE=ON && make -j 2
